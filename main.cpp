#include <iostream>
#include "GameElement.hh"
#include "Bonus.hh"
#include "Map.hh"
#include "Player.hh"
#include "Cycle.hh"

int main()
{
	std::cout << "SALUT" << std::endl;
	std::string myMap = "#############################............##............##.####.#####.##.#####.####.##o####.#####.##.#####.####o##.####.#####.##.#####.####.##..........................##.####.##.########.##.####.##.####.##.########.##.####.##......##....##....##......#######.##### ## #####.############.##### ## #####.########.....##          ##.....####.###.## ###++### ##.###.####.###.## #++++++# ##.###.####o....   #++++++#   ....o####.###.## #++++++# ##.###.####.###.## ######## ##.###.####.....##          ##.....########.## ######## ##.############.## ######## ##.#######............##............##.####.#####.##.#####.####.##.####.#####.##.#####.####.##o..##................##..o####.##.##.########.##.##.######.##.##.########.##.##.####......##....##....##......##.##########.##.##########.##.##########.##.##########.##..........................#############################";
	Map	m(myMap, 28, 31);
	Bonus bonus(0, 0, "", "Bonus 1");
	Bonus b2(1, 1, "", "Bonus 2");
	Player p(2, 2, "", "Player 1");
	p.attach(&m);

	bonus.attach(&b2);
	bonus.notify();
	bonus.detach(&b2);

	std::cout << p << std::endl;

	p.move();
	std::cout << p << std::endl;

	p.changeDirection(ACharacter::DOWN);
	p.move();
	std::cout << p << std::endl;
	

	p.detach(&m);

	Cycle c;

	std::cout << "type smth" << std::endl;
	char cmd = c.getUserInput();
	std::cout << "Commande is == " << cmd << std::endl;
	return (0);
}